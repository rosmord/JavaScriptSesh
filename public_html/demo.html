<!doctype html>
<html>
    <head>
        <title>JavascriptSesh demo</title>

        <script src="js/mdcParser.js"></script>
        <script src="js/mdcUtilsTer.js"></script>
    </head>
    <body>      
        <h1>JavascriptSesh demo</h1>
        This is a very simple demo of the use of Javascript JSesh. 
        It's completely alpha software now.
        
        
        <p> The sentence <span class="hieroglyphic-text">i-w-r:a-C1-m-p*t:pt</span> 
            means "Re is in the sky"</p>

        <p> An example : <span class="hieroglyphic-text">i-n:n:n:n:n:n:n:n:n:n:n:n:n:n:n:n</span> 
            to show we are not afraid of tall groups.</p>

        <p> We support only very simple Manuel de codage 
            Basically, you can write simple groups (with parenthesis),
            and also // for shaded parts,  [[ and ]] for lacunas, and ".." for spaces.
            Note that "-" are <em>mandatory</em> between groups.
            <span class="hieroglyphic-text">A1-pA-x:r:xr-A1-[[-..-]]-n:(x:t)*U30-A1-xAst-//</span> 
            has code <code>pA-x:r:xr-[[-..-]]-n:(x:t)*U30-xAst-//</code></p>

        <span class="hieroglyphic-text">I10&amp;D46-M17-N35-T18-G43-A1-M17-N29:D21:Y1-G43-U28-G1-Y1-F34*Z1:V31A-F4:D36-A1-G17-D36:V31A-F22:D54-N35:N35:Z2-F26:N35-W24-G43-O1-O42:Q3-D36-Aa1:D21-Q3*Z7:M3</span> 

        <p>Use in a HTML Table:</p>        
        <table>
            <tr><th>Sign</th><th>code</th></tr>
            <tr><td class="hieroglyphic-text">A1</td><td>A1</td></tr>
            <tr><td class="hieroglyphic-text">A2</td><td>A2</td></tr>
        </table>


        <p>Ligatures are understood, but currently require precomposed groups 
            to be saved in the SVG picture folder: 
            <span class="hieroglyphic-text">D:d-D&amp;d</span>
            <span class="hieroglyphic-text">t&amp;A-Ax&amp;x-zA&amp;ra</span>.</p>

        <p> Cartouches can be rendered too: 
            <span class="hieroglyphic-text">zA&amp;ra-&lt;-M17-Y5:N35:N36-C2-F31-S29-M23-&gt;-anx-DA-s</span>.</p>

        <p>Group shading is available : <span class="hieroglyphic-text">p*t:pt#14</span>.</p>

        <p>Multiline texts : <span class="hieroglyphic-text">m-Htp:t*p-!
                m-Htp:t*p-! m-Htp:t*p-!</span>.</p>

                <p> Red text : <span class="hieroglyphic-text">$r-I10:D46-M17-N35-$b-T18-G43-A1-M17-N29:D21:Y1-G43-U28-G1-Y1-F34*Z1:V31A-F4:D36-A1</span> </p>

        <p><em>JavascriptSesh parser built using PEGJS.</em></p>


        <p>Other tests </p>
        
        <ul>
            <li><span class="hieroglyphic-text">md-D-DbA:n-sw-w-G5-M-S17B-t:f-n:nm*(m*(t:t))-f-Hr-Z1-tA:Z1*N20-f-m-t-w-ti-A90</span>
        </ul>
        
        <h2>Using this package alongside Markdown</h2>
        
        <p>I use this package with the Grav CMS, which uses the convenient Markdown
            format.</p>
        <p>Markdown is a easy text format, less cumbersome than HTML. To display 
        markdown, however, you need to use a tool to transform it into HTML. In the Grav CMS,
        this is done with ParseDown, which transforms (on the server side), Markdown into HTML
        which is sent to the client.</p>
       
        <p>There might 
            be some unwanted interactions between ParseDown and MdC code,
            as '*' for instance is used by both 
            formats. From my experience with ParseDown 
            and the present format, you'd better escape "*" in the Manuel de Codage
            format using "\". Thus you would encode "p\*t:pt" instead of "p*t:pt".            
        </p>

        <!-- 
                The following Javascript code will search for all elements with class .hieroglyphic-text,
                consider their content as Manuel de codage, and replace it with the proper hieroglyphic text.
        -->
        <script>
            function replaceAllGlyphs() {
                document.querySelectorAll(".hieroglyphic-text").forEach(
                        function (elt) {
                            try {
                                replaceTextWithHieroglyphs(elt, {scale: 1.5});
                            } catch (e) {
                                console.log(e);
                            }
                        }
                );
            }
            replaceAllGlyphs();
        </script>
    </body>
</html>
